import{h as v,V as $,K as L,o,c as n,F as p,D as f,a as l,s as m,t as r,W as M,X as B,l as F,I as N,M as V,b as I,w as K,e as P}from"./entry.1edbc1b2.js";import{u as A}from"./asyncData.8c082ca4.js";const j={class:"flex mb-8 flex-wrap"},q=["onClick"],J=v({__name:"CategoryFilter",async setup(_){let a,i;const b=([a,i]=$(()=>B("/posts/").find()),a=await a,i(),a).flatMap(t=>{var s,e;return(e=(s=t.categories)==null?void 0:s.split)==null?void 0:e.call(s," ")}).filter(t=>t),h=[...new Set(b)],{postState:x,setCategory:g,getPostList:d}=L(),c=t=>x.value.categories.findIndex(s=>s===t)>-1;return(t,s)=>(o(),n("ul",j,[(o(),n(p,null,f(h,(e,y)=>l("li",{key:`category-${y}`,class:M(["mr-3 p-1 px-2 rounded-3xl transition duration-500 hover:scale-125 hover:bg-blue-400 hover:text-white",{"bg-blue-400 text-white":c(e)}])},[l("a",{href:"javascript:void(0)",onClick:u=>(m(g)({category:e}),m(d)())}," #"+r(e),9,q)],2)),64))]))}}),z={class:"font-bold md:text-3xl text-xl"},E={key:0},W={class:"my-8"},X={class:"font-bold md:text-xl"},Y={class:"text-sm"},O=v({__name:"List",props:{title:{type:String,default:""},searchKeyword:{type:String,default:""},limit:{type:Number,default:0},isShowCnt:{type:Boolean,default:!0}},async setup(_){let a,i;const{title:k,searchKeyword:b,limit:w}=_,h=c=>{if(!c)return"";const t=new Date(c),s=t.getMonth()+1<10?`0${t.getMonth()+1}`:t.getMonth()+1,e=t.getDate()<10?`0${t.getDate()}`:t.getDate();return`${t.getFullYear()}-${s}-${e}`},{postState:x,getPostList:g}=L(),d=F(()=>x.value.postList);return[a,i]=$(()=>A("posts",async()=>{})),await a,i(),N(async()=>{await g({limit:w})}),(c,t)=>{const s=P;return o(),n(p,null,[l("h2",z,r(_.title),1),_.isShowCnt?(o(),n("span",E,r(m(d).length)+" 개의 포스트가 있어요.",1)):V("",!0),l("ul",W,[(o(!0),n(p,null,f(m(d),(e,y)=>(o(),n("li",{key:y,class:"mb-4 pb-4 border-b-4 border-grey-900 transition duration-500 hover:text-blue-500 hover:translate-x-1"},[I(s,{to:e._path},{default:K(()=>{var u,C;return[(o(!0),n(p,null,f((C=(u=e.categories)==null?void 0:u.split)==null?void 0:C.call(u," "),(S,D)=>(o(),n("span",{class:"mr-2 text-gray-500 text-sm md:text-md",key:`post-category-${D}`},"#"+r(S),1))),128)),l("h3",X,r(e.title),1),l("p",null,r(e.description),1),l("span",Y,r(h(e.date)),1)]}),_:2},1032,["to"])]))),128))])],64)}}});export{J as _,O as a};
