import{u as k}from"./asyncData.93b2728e.js";import{h as $,V as S,o as n,c as r,F as m,D as b,a as c,s as g,t as l,W as D,X as M,l as B,I as F,K as N,b as V,w as I,e as K}from"./entry.7d763737.js";import{a as L}from"./usePosts.26de60cd.js";const P={class:"flex mb-8 flex-wrap"},A=["onClick"],H=$({__name:"CategoryFilter",async setup(_){let i,y;const{data:p}=([i,y]=S(async()=>k("tst",async()=>await M("/posts/").find())),i=await i,y(),i);console.log("data11",p.value);const f=p.value.flatMap(a=>{var t,o;return(o=(t=a.categories)==null?void 0:t.split)==null?void 0:o.call(t," ")}).filter(a=>a),h=[...new Set(f)],{postState:u,setCategory:e,getPostList:d}=L(),s=a=>u.value.categories.findIndex(t=>t===a)>-1;return(a,t)=>(n(),r("ul",P,[(n(),r(m,null,b(h,(o,x)=>c("li",{key:`category-${x}`,class:D(["mr-3 p-1 px-2 rounded-3xl transition duration-500 hover:scale-125 hover:bg-blue-400 hover:text-white",{"bg-blue-400 text-white":s(o)}])},[c("a",{href:"javascript:void(0)",onClick:C=>(g(e)({category:o}),g(d)())}," #"+l(o),9,A)],2)),64))]))}}),j={class:"font-bold text-3xl"},q={key:0},z={class:"my-8"},E={class:"font-bold text-xl"},W={class:"text-sm"},J=$({__name:"List",props:{title:{type:String,default:""},searchKeyword:{type:String,default:""},limit:{type:Number,default:0},isShowCnt:{type:Boolean,default:!0}},setup(_){const{title:i,searchKeyword:y,limit:p}=_,w=u=>{if(!u)return"";const e=new Date(u),d=e.getMonth()+1<10?`0${e.getMonth()+1}`:e.getMonth()+1,s=e.getDate()<10?`0${e.getDate()}`:e.getDate();return`${e.getFullYear()}-${d}-${s}`},{postState:f,getPostList:v}=L(),h=B(()=>f.value.postList);return F(async()=>{await v({limit:p})}),(u,e)=>{const d=K;return n(),r(m,null,[c("h2",j,l(_.title),1),_.isShowCnt?(n(),r("span",q,l(g(h).length)+" 개의 포스트가 있어요.",1)):N("",!0),c("ul",z,[(n(!0),r(m,null,b(g(h),(s,a)=>(n(),r("li",{key:a,class:"mb-4 pb-4 border-b-4 border-grey-900 transition duration-500 hover:text-blue-500 hover:translate-x-1"},[V(d,{to:s._path},{default:I(()=>{var t,o;return[(n(!0),r(m,null,b((o=(t=s.categories)==null?void 0:t.split)==null?void 0:o.call(t," "),(x,C)=>(n(),r("span",{class:"mr-2 text-gray-500",key:`post-category-${C}`},"#"+l(x),1))),128)),c("h3",E,l(s.title),1),c("p",null,l(s.description),1),c("span",W,l(w(s.date)),1)]}),_:2},1032,["to"])]))),128))])],64)}}});export{H as _,J as a};
