import{u as S}from"./asyncData.93be10a7.js";import{h as D,V as b,K as L,o as n,c as r,F as h,D as v,a as i,s as g,t as c,W as F,X as k,l as N,I as V,M as I,b as K,w as P,e as A}from"./entry.aaeaa8c2.js";const j={class:"flex mb-8 flex-wrap"},q=["onClick"],J=D({__name:"CategoryFilter",async setup(p){let e,l;const{data:C}=([e,l]=b(async()=>S("category",async()=>await k("/posts/").find())),e=await e,l(),e);console.log("data11",C.value);const d=([e,l]=b(()=>k("/posts/").find()),e=await e,l(),e);console.log("postList",d);const y=d==null?void 0:d.flatMap(a=>{var t,o;return(o=(t=a.categories)==null?void 0:t.split)==null?void 0:o.call(t," ")}).filter(a=>a),x=[...new Set(y)],{postState:f,setCategory:m,getPostList:_}=L(),s=a=>f.value.categories.findIndex(t=>t===a)>-1;return(a,t)=>(n(),r("ul",j,[(n(),r(h,null,v(x,(o,u)=>i("li",{key:`category-${u}`,class:F(["mr-3 p-1 px-2 rounded-3xl transition duration-500 hover:scale-125 hover:bg-blue-400 hover:text-white",{"bg-blue-400 text-white":s(o)}])},[i("a",{href:"javascript:void(0)",onClick:w=>(g(m)({category:o}),g(_)())}," #"+c(o),9,q)],2)),64))]))}}),z={class:"font-bold md:text-3xl text-xl"},E={key:0},W={class:"my-8"},X={class:"font-bold md:text-xl"},Y={class:"text-sm"},O=D({__name:"List",props:{title:{type:String,default:""},searchKeyword:{type:String,default:""},limit:{type:Number,default:0},isShowCnt:{type:Boolean,default:!0}},async setup(p){let e,l;const{title:C,searchKeyword:d,limit:y}=p,$=_=>{if(!_)return"";const s=new Date(_),a=s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1,t=s.getDate()<10?`0${s.getDate()}`:s.getDate();return`${s.getFullYear()}-${a}-${t}`},{postState:x,getPostList:f}=L(),m=N(()=>x.value.postList);return[e,l]=b(()=>S("posts",async()=>{})),await e,l(),V(async()=>{await f({limit:y})}),(_,s)=>{const a=A;return n(),r(h,null,[i("h2",z,c(p.title),1),p.isShowCnt?(n(),r("span",E,c(g(m).length)+" 개의 포스트가 있어요.",1)):I("",!0),i("ul",W,[(n(!0),r(h,null,v(g(m),(t,o)=>(n(),r("li",{key:o,class:"mb-4 pb-4 border-b-4 border-grey-900 transition duration-500 hover:text-blue-500 hover:translate-x-1"},[K(a,{to:t._path},{default:P(()=>{var u,w;return[(n(!0),r(h,null,v((w=(u=t.categories)==null?void 0:u.split)==null?void 0:w.call(u," "),(M,B)=>(n(),r("span",{class:"mr-2 text-gray-500 text-sm md:text-md",key:`post-category-${B}`},"#"+c(M),1))),128)),i("h3",X,c(t.title),1),i("p",null,c(t.description),1),i("span",Y,c($(t.date)),1)]}),_:2},1032,["to"])]))),128))])],64)}}});export{J as _,O as a};
