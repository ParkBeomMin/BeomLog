import{u as L}from"./asyncData.f0305565.js";import{h as S,V as w,W as k,K as D,o as a,c as n,F as h,D as b,X as F,a as d,t as u,s as g,l as N,I as V,M as I,b as K,w as P,e as A}from"./entry.da1be7d2.js";const j={class:"flex mb-8 flex-wrap"},q=["onClick"],J=S({__name:"CategoryFilter",async setup(_){let o,c;const{data:v}=([o,c]=w(async()=>L("category",async()=>await k("/posts/").find())),o=await o,c(),o);console.log("data11",v.value);try{const t=([o,c]=w(()=>k("/posts/").find()),o=await o,c(),o);console.log("postList",t);const i=t==null?void 0:t.flatMap(l=>{var s,p;return(p=(s=l.categories)==null?void 0:s.split)==null?void 0:p.call(s," ")}).filter(l=>l),e=[...new Set(i)];console.log(e)}catch(t){console.log("e",t)}const{postState:C,setCategory:y,getPostList:x}=D(),f=t=>C.value.categories.findIndex(i=>i===t)>-1;return(t,i)=>(a(),n("ul",j,[(a(!0),n(h,null,b(t.categoryList,(r,e)=>(a(),n("li",{key:`category-${e}`,class:F(["mr-3 p-1 px-2 rounded-3xl transition duration-500 hover:scale-125 hover:bg-blue-400 hover:text-white",{"bg-blue-400 text-white":f(r)}])},[d("a",{href:"javascript:void(0)",onClick:l=>(g(y)({category:r}),g(x)())}," #"+u(r),9,q)],2))),128))]))}}),z={class:"font-bold md:text-3xl text-xl"},E={key:0},W={class:"my-8"},X={class:"font-bold md:text-xl"},Y={class:"text-sm"},O=S({__name:"List",props:{title:{type:String,default:""},searchKeyword:{type:String,default:""},limit:{type:Number,default:0},isShowCnt:{type:Boolean,default:!0}},async setup(_){let o,c;const{title:v,searchKeyword:C,limit:y}=_,x=r=>{if(!r)return"";const e=new Date(r),l=e.getMonth()+1<10?`0${e.getMonth()+1}`:e.getMonth()+1,s=e.getDate()<10?`0${e.getDate()}`:e.getDate();return`${e.getFullYear()}-${l}-${s}`},{postState:f,getPostList:t}=D(),i=N(()=>f.value.postList);return[o,c]=w(()=>L("posts",async()=>{})),await o,c(),V(async()=>{await t({limit:y})}),(r,e)=>{const l=A;return a(),n(h,null,[d("h2",z,u(_.title),1),_.isShowCnt?(a(),n("span",E,u(g(i).length)+" 개의 포스트가 있어요.",1)):I("",!0),d("ul",W,[(a(!0),n(h,null,b(g(i),(s,p)=>(a(),n("li",{key:p,class:"mb-4 pb-4 border-b-4 border-grey-900 transition duration-500 hover:text-blue-500 hover:translate-x-1"},[K(l,{to:s._path},{default:P(()=>{var m,$;return[(a(!0),n(h,null,b(($=(m=s.categories)==null?void 0:m.split)==null?void 0:$.call(m," "),(M,B)=>(a(),n("span",{class:"mr-2 text-gray-500 text-sm md:text-md",key:`post-category-${B}`},"#"+u(M),1))),128)),d("h3",X,u(s.title),1),d("p",null,u(s.description),1),d("span",Y,u(x(s.date)),1)]}),_:2},1032,["to"])]))),128))])],64)}}});export{J as _,O as a};
