import{u as L}from"./asyncData.c97a0c6e.js";import{g as S,H as w,I as k,y as D,o as a,c as n,F as h,h as b,J as F,a as d,t as u,i as g,B as N,n as I,z as P,b as V,w as z,e as A}from"./entry.4e9929f5.js";const K={class:"flex mb-8 flex-wrap"},j=["onClick"],Q=S({__name:"CategoryFilter",async setup(_){let o,l;const{data:v}=([o,l]=w(async()=>L("category",async()=>await k("/posts/").find())),o=await o,l(),o);console.log("data11",v.value);try{const t=([o,l]=w(()=>k("/posts/").find()),o=await o,l(),o);console.log("postList",t);const i=t==null?void 0:t.flatMap(c=>{var s,p;return(p=(s=c.categories)==null?void 0:s.split)==null?void 0:p.call(s," ")}).filter(c=>c),e=[...new Set(i)];console.log(e)}catch(t){console.log("e",t)}const{postState:C,setCategory:y,getPostList:x}=D(),f=t=>C.value.categories.findIndex(i=>i===t)>-1;return(t,i)=>(a(),n("ul",K,[(a(!0),n(h,null,b(t.categoryList,(r,e)=>(a(),n("li",{key:`category-${e}`,class:F(["mr-3 p-1 px-2 rounded-3xl transition duration-500 hover:scale-125 hover:bg-blue-400 hover:text-white",{"bg-blue-400 text-white":f(r)}])},[d("a",{href:"javascript:void(0)",onClick:c=>(g(y)({category:r}),g(x)())}," #"+u(r),9,j)],2))),128))]))}}),q={class:"font-bold md:text-3xl text-xl"},E={key:0},H={class:"my-8"},J={class:"font-bold md:text-xl"},Y={class:"text-sm"},R=S({__name:"List",props:{title:{type:String,default:""},searchKeyword:{type:String,default:""},limit:{type:Number,default:0},isShowCnt:{type:Boolean,default:!0}},async setup(_){let o,l;const{title:v,searchKeyword:C,limit:y}=_,x=r=>{if(!r)return"";const e=new Date(r),c=e.getMonth()+1<10?`0${e.getMonth()+1}`:e.getMonth()+1,s=e.getDate()<10?`0${e.getDate()}`:e.getDate();return`${e.getFullYear()}-${c}-${s}`},{postState:f,getPostList:t}=D(),i=N(()=>f.value.postList);return[o,l]=w(()=>L("posts",async()=>{})),await o,l(),I(async()=>{await t({limit:y})}),(r,e)=>{const c=A;return a(),n(h,null,[d("h2",q,u(_.title),1),_.isShowCnt?(a(),n("span",E,u(g(i).length)+" 개의 포스트가 있어요.",1)):P("",!0),d("ul",H,[(a(!0),n(h,null,b(g(i),(s,p)=>(a(),n("li",{key:p,class:"mb-4 pb-4 border-b-4 border-grey-900 transition duration-500 hover:text-blue-500 hover:translate-x-1"},[V(c,{to:s._path},{default:z(()=>{var m,$;return[(a(!0),n(h,null,b(($=(m=s.categories)==null?void 0:m.split)==null?void 0:$.call(m," "),(B,M)=>(a(),n("span",{class:"mr-2 text-gray-500 text-sm md:text-md",key:`post-category-${M}`},"#"+u(B),1))),128)),d("h3",J,u(s.title),1),d("p",null,u(s.description),1),d("span",Y,u(x(s.date)),1)]}),_:2},1032,["to"])]))),128))])],64)}}});export{Q as _,R as a};
